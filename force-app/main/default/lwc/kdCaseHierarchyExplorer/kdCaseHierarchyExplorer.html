<template>
    <!-- Loading -------------------------------------------------------- -->
    <template if:true={isLoading}>
        <lightning-card title="Case Hierarchy">
            <lightning-spinner alternative-text="Loading casesâ€¦"></lightning-spinner>
        </lightning-card>
    </template>

    <!-- Success -------------------------------------------------------- -->
    <template if:true={treeData}>
        <lightning-card title="Case Hierarchy">
            <lightning-tree-grid
                    key-field="id"
                    data={treeData}
                    columns={columns}
                    expanded-rows={expandedRows}
                    hide-checkbox-column
                    onrowtoggle={handleRowToggle}>
            </lightning-tree-grid>
        </lightning-card>
    </template>

    <!-- No Cases Found ------------------------------------------------- -->
    <template if:true={noCasesFound}>
        <lightning-card title="Case Hierarchy">
            <div class="slds-text-color_weak slds-m-around_medium slds-text-align_center">
                <lightning-icon icon-name="utility:info" size="small" class="slds-m-right_x-small"></lightning-icon>
                No cases found for this record. Cases will appear here when they are created and linked to this record.
            </div>
        </lightning-card>
    </template>

    <!-- Error ---------------------------------------------------------- -->
    <template if:true={hasError}>
        <lightning-card title="Case Hierarchy">
            <div class="slds-text-color_error slds-m-around_medium">
                {errorMessage}
            </div>
        </lightning-card>
    </template>
</template> 